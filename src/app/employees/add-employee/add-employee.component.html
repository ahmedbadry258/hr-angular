<div class="container">
  <div class="card">
    <div class="card-header">Add Employee!</div>

    <div class="card-body">
      <form [formGroup]="employeeForm" (ngSubmit)="save()">
        <div class="form-group row mb-2">
          <label class="col-md-2 col-form-label" for="firstNameId"
            >Employee Id</label
          >
          <div class="col-md-8">
            <input
              class="form-control"
              id="employeeId"
              type="number"
              placeholder="Employee Id (required)"
              formControlName="employeeId"
              [ngClass]="{
                'is-invalid':
                  (employeeForm.get('employeeId')?.touched ||
                    employeeForm.get('employeeId')?.dirty) &&
                  !employeeForm.get('employeeId')?.valid
              }"
            />
            <span class="invalid-feedback">
              <span *ngIf="employeeForm.get('employeeId')?.errors?.['required']">
                Please enter your first name.
              </span>
              <!-- <span
                *ngIf="employeeForm.get('employeeId')?.errors?.['min']"
              >
                The Employee Id must be longer than 3 characters.
              </span> -->
              <!-- <span
              *ngIf="employeeForm.get('employeeId')?.errors?.['max']"
            >
              The Employee Id must be Max 5 characters.
            </span> -->
            </span>
          </div>
        </div>
        <div class="form-group row mb-2">
          <label class="col-md-2 col-form-label" for="firstNameId"
            >First Name</label
          >
          <div class="col-md-8">
            <input
              class="form-control"
              id="firstNameId"
              type="text"
              placeholder="First Name (required)"
              formControlName="firstName"
              [ngClass]="{
                'is-invalid':
                  (employeeForm.get('firstName')?.touched ||
                    employeeForm.get('firstName')?.dirty) &&
                  !employeeForm.get('firstName')?.valid
              }"
            />
            <span class="invalid-feedback">
              <span *ngIf="employeeForm.get('firstName')?.errors?.['required']">
                Please enter your first name.
              </span>
              <span
                *ngIf="employeeForm.get('firstName')?.errors?.['minlength']"
              >
                The first name must be longer than 3 characters.
              </span>
            </span>
          </div>
        </div>

        <div class="form-group row mb-2">
          <label class="col-md-2 col-form-label" for="lastNameId"
            >Last Name</label
          >
          <div class="col-md-8">
            <input
              class="form-control"
              id="lastNameId"
              type="text"
              placeholder="Last Name (required)"
              formControlName="lastName"
              [ngClass]="{
                'is-invalid':
                  (employeeForm.get('lastName')?.touched ||
                    employeeForm.get('lastName')?.dirty) &&
                  !employeeForm.get('lastName')?.valid
              }"
            />
            <span class="invalid-feedback">
              <span *ngIf="employeeForm.get('lastName')?.errors?.['required']">
                Please enter your last name.
              </span>
              <span *ngIf="employeeForm.get('lastName')?.errors?.['maxlength']">
                The last name must be less than 20 characters.
              </span>
              <span *ngIf="employeeForm.get('lastName')?.errors?.['minlength']">
                The last name must be less than 3 characters.
              </span>
              <span *ngIf="employeeForm.get('lastName')?.errors?.['maxlength']">
                The last name must be max length 10 characters.
              </span>
            </span>
          </div>
        </div>

        <div class="form-group row mb-2">
          <label class="col-md-2 col-form-label" for="emailId">Email</label>
          <div class="col-md-8">
            <input
              class="form-control"
              id="emailId"
              type="email"
              placeholder="Email (required)"
              formControlName="email"
              [ngClass]="{
                'is-invalid':
                  (employeeForm.get('email')?.touched ||
                    employeeForm.get('email')?.dirty) &&
                  !employeeForm.get('email')?.valid
              }"
            />
            <span class="invalid-feedback">
              <span *ngIf="employeeForm.get('email')?.errors?.['required']">
                Please enter your email address.
              </span>
              <span *ngIf="employeeForm.get('email')?.errors?.['email']">
                Please enter a valid email address.
              </span>
            </span>
          </div>
        </div>

        <div class="form-group row mb-2">
          <label class="col-md-2 col-form-label" for="emailId"
            >Phone Number</label
          >
          <div class="col-md-8">
            <input
              class="form-control"
              id="phoneNumberId"
              type="tel"
              placeholder="Phone Number (required)"
              formControlName="phoneNumber"
              [ngClass]="{
                'is-invalid':
                  (employeeForm.get('phoneNumber')?.touched ||
                    employeeForm.get('phoneNumber')?.dirty) &&
                  !employeeForm.get('phoneNumber')?.valid
              }"
            />
            <span class="invalid-feedback">
              <span
                *ngIf="employeeForm.get('phoneNumber')?.errors?.['required']"
              >
                Please enter your Phone Number.
              </span>
              <span
                *ngIf="employeeForm.get('phoneNumber')?.errors?.['minlength']"
              >
                The Phone Number must be 5 number .
              </span>
              <span
                *ngIf="employeeForm.get('phoneNumber')?.errors?.['maxlength']"
              >
                The Phone Number must be 10 number .
              </span>
            </span>
          </div>
        </div>
        <div class="form-group row mb-2">
          <label class="col-md-2 col-form-label" for="hireDateId"
            >Hire Date</label
          >
          <div class="col-md-8">
            <input
              class="form-control"
              id="hireDateId"
              type="date"
              placeholder="hire Date(required)"
              formControlName="hireDate"
              [ngClass]="{
                'is-invalid':
                  (employeeForm.get('hireDate')?.touched ||
                    employeeForm.get('hireDate')?.dirty) &&
                  !employeeForm.get('hireDate')?.valid
              }"
            />
            <span class="invalid-feedback">
              <span
                *ngIf="employeeForm.get('hireDate')?.errors?.['required']"
              >
                Please enter your Hire Date.
              </span>

            </span>
          </div>
        </div>
        <div class="form-group row mb-2">
          <label class="col-md-2 col-form-label" for="emailId">Salary</label>
          <div class="col-md-8">
            <input
              class="form-control"
              id="salaryId"
              type="text"
              placeholder="Salary (required)"
              formControlName="salary"
              [ngClass]="{
                'is-invalid':
                  (employeeForm.get('salary')?.touched ||
                    employeeForm.get('salary')?.dirty) &&
                  !employeeForm.get('salary')?.valid
              }"
            />
            <span class="invalid-feedback">
              <span *ngIf="employeeForm.get('salary')?.errors?.['required']">
                Please enter your Salary.
              </span>
            </span>
          </div>
        </div>

        <div class="form-group row mb-2">
          <label class="col-md-2 col-form-label" for="emailId">Commission Pct</label>
          <div class="col-md-8">
            <input
              class="form-control"
              id="commissionPctId"
              type="text"
              placeholder="Commission Pct (required)"
              formControlName="commissionPct"
              [ngClass]="{
                'is-invalid':
                  (employeeForm.get('commissionPct')?.touched ||
                    employeeForm.get('commissionPct')?.dirty) &&
                  !employeeForm.get('commissionPct')?.valid
              }"
            />
            <span class="invalid-feedback">
              <span *ngIf="employeeForm.get('commissionPct')?.errors?.['required']">
                Please enter your Commission Pct.
              </span>
            </span>
          </div>
        </div>

        <div class="form-group row mb-2">
          <label class="col-md-2 col-form-label" for="emailId">Manager Id</label>
          <div class="col-md-8">
            <input
              class="form-control"
              id="commissionPctId"
              type="text"
              placeholder="Manager Id (required)"
              formControlName="managerId"
              [ngClass]="{
                'is-invalid':
                  (employeeForm.get('managerId')?.touched ||
                    employeeForm.get('managerId')?.dirty) &&
                  !employeeForm.get('managerId')?.valid
              }"
            />
            <span class="invalid-feedback">
              <span *ngIf="employeeForm.get('managerId')?.errors?.['required']">
                Please enter your Manager Id.
              </span>
            </span>
          </div>
        </div>

        <div class="form-group row mb-2">
          <label class="col-md-2 col-form-label" for="emailId">Department</label>
          <div class="col-md-8">
            <select class="form-select" aria-label="Default select example"
             formControlName="departmentId"   [ngClass]="{'is-invalid':
                (employeeForm.get('departmentId')?.touched ||
                  employeeForm.get('departmentId')?.dirty) &&
                !employeeForm.get('departmentId')?.valid
            }">

              <option value="{{department.departmentId}}" *ngFor="let department of departments">{{department.departmentName}}</option>
            </select>

            <span class="invalid-feedback">
              <span *ngIf="employeeForm.get('departmentId')?.errors?.['required']">
                Please enter your Department.
              </span>
            </span>
          </div>
        </div>

        <div class="form-group row mb-2">
          <label class="col-md-2 col-form-label" for="emailId">job</label>
          <div class="col-md-8">
            <select class="form-select" aria-label="Default select example"
            formControlName="jobId"  [ngClass]="{
              'is-invalid':
                (employeeForm.get('jobId')?.touched ||
                  employeeForm.get('jobId')?.dirty) &&
                !employeeForm.get('jobId')?.valid
            }">

              <option value="{{job.jobId}}" *ngFor="let job of jobs">{{job.jobTitle}}</option>

            </select>

            <span class="invalid-feedback">
              <span *ngIf="employeeForm.get('jobId')?.errors?.['required']">
                Please enter your Job.
              </span>
            </span>
          </div>
        </div>

        <div class="form-group row mb-2">
          <div class="offset-md-2 col-md-4">
            <button
              class="btn btn-primary mr-3"
              type="submit"
              style="width: 80px"
              [title]="
                employeeForm.valid
                  ? 'Save your entered data'
                  : 'Disabled until the form data is valid'"
              [disabled]="!employeeForm.valid" >Save</button>

          </div>
        </div>
      </form>
    </div>
    <br />Dirty: {{ employeeForm.dirty }} <br />Touched:
    {{ employeeForm.touched }} <br />Valid: {{ employeeForm.valid }}
    <br />Value: {{ employeeForm.value | json }}
  </div>

  <hr />
  <!--
  <div class="container">
    <h3>Employee Form template-driven forms</h3>
    <div [hidden]="!postError" class="alert alert-danger">
      {{ postErrorMessage }}
    </div>
    <div [hidden]="!postSuccess" class="alert alert-success">
      {{ postSuccessMessage }}
    </div>
    <form #form="ngForm" (ngSubmit)="onSubmit(form)" ngNativeValidate>
      <div class="form-group">
        <label for="firstName">First Name</label>
        <input
          type="text"
          class="form-control"
          id="firstName"
          name="firstName"
          placeholder="Enter First Name"
          [(ngModel)]="person.firstName"
          required
          #nameField="ngModel"
          #classTest
          [class.field-error]="form.submitted && nameField.invalid"
          (blur)="onBlur(nameField)"
        />
        <div class="form-group">
          <label for="exampleFormControlSelect1">Example select</label>
          <select class="form-control" id="exampleFormControlSelect1">
            <option>--select</option>
            <option *ngFor="let region of regionList">
              {{ region.regionName }}
            </option>
          </select>
        </div>

        <div
          [hidden]="!form.submitted || nameField.valid"
          class="alert alert-danger"
        >
          Enter a name
        </div>
      </div>

      <button class="btn btn-primary">Send</button>
    </form>
    {{ person | json }}

    {{ classTest.className }}
    ---------------<br />
    {{ userForm.value | json }}
    <form #userForm="ngForm">
      <div class="control-group">
        <label>FullName</label>
        <input
          type="text"
          #name="ngModel"
          required
          #ct
          [class.is-invalid]="name.invalid && name.touched"
          class="form-control"
          name="fullName"
          ngModel
        />
        <div>{{ ct.className }}</div>
      </div>
      <div class="control-group">
        <label>Email</label>
        <input type="email" class="form-control" name="email" ngModel />
      </div>
      <div class="control-group">
        <label>Gender</label>
        <input
          type="radio"
          class="form-check-input"
          name="gender"
          value="Male"
          ngModel
        />Male
        <input
          type="radio"
          class="form-check-input"
          name="gender"
          value="female"
          ngModel
        />Female
      </div>
      <div class="control-group">
        <input type="checkbox" class="form-check-input" name="agree" ngModel />
        <label>Agree</label>
      </div>
      <div class="control-group">
        <label>City</label>
        <input
          type="text"
          #namec="ngModel"
          #cc
          required
          [class.is-invalid]="namec.invalid && namec.touched"
          class="form-control"
          name="city"
          ngModel
        />
        <div>{{ name.value | json }}-{{ cc.className }}</div>
      </div>
      <div ngModelGroup="address">
        <div class="control-group">
          <label>Country</label>
          <input
            type="text"
            required
            #namecty="ngModel"
            [class.is-invalid]="namecty.invalid && namecty.touched"
            #namectry
            class="form-control"
            name="country"
            ngModel
          />
          <div>{{ namectry.className }}</div>
        </div>
      </div>
    </form>
  </div>
</div>
-->
